"use strict";(self.webpackChunkpuxxbu_about=self.webpackChunkpuxxbu_about||[]).push([[3],{2781:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>d,toc:()=>o});var a=l(4848),i=l(8453);const s={slug:"cloudflared-self-host-linux",title:"Cara Self-Host Cloudflared Tunnel di Linux",description:"Panduan lengkap self-host Cloudflared Tunnel di Linux, mulai instalasi hingga konfigurasi pada perangkat lokal.",keywords:["cloudflared","self-host","linux","tunnel","dns","homelab"],tags:["self-hosting","cloudflare","linux","cloudflared","tunnel"],author:"Valerino Gozen",author_url:"https://github.com/puxxbu",author_title:"Back End Engineer at Berijalan",author_image_url:"https://media.licdn.com/dms/image/v2/D5603AQEL1EQStWzM_Q/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1701697323297?e=1752710400&v=beta&t=mK32frD6CEo2rbtWZ_IhLl-vdxMOxFSQO7omh77l5HA"},r="Cara Self-Host Cloudflared Tunnel di Linux",d={permalink:"/blog/cloudflared-self-host-linux",editUrl:"https://github.com/puxxbu/kaya-folio/tree/main/website/blog/2025-06-16-cloudflared-tutorial.md",source:"@site/blog/2025-06-16-cloudflared-tutorial.md",title:"Cara Self-Host Cloudflared Tunnel di Linux",description:"Panduan lengkap self-host Cloudflared Tunnel di Linux, mulai instalasi hingga konfigurasi pada perangkat lokal.",date:"2025-06-16T00:00:00.000Z",tags:[{inline:!0,label:"self-hosting",permalink:"/blog/tags/self-hosting"},{inline:!0,label:"cloudflare",permalink:"/blog/tags/cloudflare"},{inline:!0,label:"linux",permalink:"/blog/tags/linux"},{inline:!0,label:"cloudflared",permalink:"/blog/tags/cloudflared"},{inline:!0,label:"tunnel",permalink:"/blog/tags/tunnel"}],readingTime:2.885,hasTruncateMarker:!1,authors:[{name:"Valerino Gozen",title:"Back End Engineer at Berijalan",url:"https://github.com/puxxbu",imageURL:"https://media.licdn.com/dms/image/v2/D5603AQEL1EQStWzM_Q/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1701697323297?e=1752710400&v=beta&t=mK32frD6CEo2rbtWZ_IhLl-vdxMOxFSQO7omh77l5HA",key:null,page:null}],frontMatter:{slug:"cloudflared-self-host-linux",title:"Cara Self-Host Cloudflared Tunnel di Linux",description:"Panduan lengkap self-host Cloudflared Tunnel di Linux, mulai instalasi hingga konfigurasi pada perangkat lokal.",keywords:["cloudflared","self-host","linux","tunnel","dns","homelab"],tags:["self-hosting","cloudflare","linux","cloudflared","tunnel"],author:"Valerino Gozen",author_url:"https://github.com/puxxbu",author_title:"Back End Engineer at Berijalan",author_image_url:"https://media.licdn.com/dms/image/v2/D5603AQEL1EQStWzM_Q/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1701697323297?e=1752710400&v=beta&t=mK32frD6CEo2rbtWZ_IhLl-vdxMOxFSQO7omh77l5HA"},unlisted:!1,nextItem:{title:"Instalasi CasaOS, Web UI yang cocok untuk dashboard selfhost",permalink:"/blog/casaos-selfhost"}},t={authorsImageUrls:[void 0]},o=[{value:"Pendahuluan",id:"pendahuluan",level:2},{value:"Prasyarat untuk Self-Hosting Cloudflared di Linux",id:"prasyarat-untuk-self-hosting-cloudflared-di-linux",level:2},{value:"Langkah 1: Registrasi Domain di Cloudflare",id:"langkah-1-registrasi-domain-di-cloudflare",level:2},{value:"Troubleshooting Domain",id:"troubleshooting-domain",level:3},{value:"Langkah 2: Setup Zero Trust Tunnel",id:"langkah-2-setup-zero-trust-tunnel",level:2},{value:"Langkah 3: Instalasi Cloudflared",id:"langkah-3-instalasi-cloudflared",level:2},{value:"Untuk Ubuntu/Debian",id:"untuk-ubuntudebian",level:3},{value:"Untuk Sistem Lain",id:"untuk-sistem-lain",level:3},{value:"Langkah 4: Koneksikan Tunnel",id:"langkah-4-koneksikan-tunnel",level:2},{value:"Verifikasi Koneksi",id:"verifikasi-koneksi",level:3},{value:"Langkah 5: Konfigurasi Public Hostname",id:"langkah-5-konfigurasi-public-hostname",level:2},{value:"Contoh Konfigurasi",id:"contoh-konfigurasi",level:3},{value:"Troubleshooting Lengkap",id:"troubleshooting-lengkap",level:2},{value:"1. Tunnel Tidak Terkoneksi",id:"1-tunnel-tidak-terkoneksi",level:3},{value:"2. Domain Tidak Bisa Diakses",id:"2-domain-tidak-bisa-diakses",level:3},{value:"3. Error Certificate",id:"3-error-certificate",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Keamanan",id:"keamanan",level:3},{value:"Maintenance",id:"maintenance",level:3},{value:"Monitoring",id:"monitoring",level:3},{value:"Penutup",id:"penutup",level:2},{value:"Referensi Tambahan",id:"referensi-tambahan",level:3}];function u(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"pendahuluan",children:"Pendahuluan"}),"\n",(0,a.jsx)(n.p,{children:"Cloudflare Tunnel adalah solusi untuk mengekspos layanan lokal ke internet tanpa:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\ud83d\udd12 Keamanan data terjamin"}),"\n",(0,a.jsx)(n.li,{children:"\u26a1 Akses tanpa IP statis"}),"\n",(0,a.jsx)(n.li,{children:"\ud83c\udf10 Integrasi mudah dengan Linux"}),"\n",(0,a.jsx)(n.li,{children:"IP publik statis"}),"\n",(0,a.jsx)(n.li,{children:"Membuka port firewall"}),"\n",(0,a.jsx)(n.li,{children:"Khawatir tentang CGNAT dari ISP"}),"\n"]}),"\n",(0,a.jsxs)(n.admonition,{type:"info",children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Catatan Platform:"}),(0,a.jsx)(n.br,{}),"\n","Tutorial ini menggunakan Ubuntu 24.04 LTS, tetapi kompatibel dengan:"]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Windows (x64/ARM)"}),"\n",(0,a.jsx)(n.li,{children:"macOS"}),"\n",(0,a.jsx)(n.li,{children:"Docker"}),"\n",(0,a.jsx)(n.li,{children:"Raspberry Pi (ARM architecture)"}),"\n"]})]}),"\n",(0,a.jsx)(n.h2,{id:"prasyarat-untuk-self-hosting-cloudflared-di-linux",children:"Prasyarat untuk Self-Hosting Cloudflared di Linux"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\u2705 Akun Cloudflare (",(0,a.jsx)(n.a,{href:"https://dash.cloudflare.com/sign-up",children:"Daftar Gratis"}),")"]}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Domain yang sudah terdaftar di Cloudflare"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Akses root/sudo ke perangkat lokal"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Koneksi internet stabil"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"langkah-1-registrasi-domain-di-cloudflare",children:"Langkah 1: Registrasi Domain di Cloudflare"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Cloudflared self-host di Linux: Domain Setup",src:l(7963).A+"",width:"1920",height:"1115"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Login ke ",(0,a.jsx)(n.a,{href:"https://dash.cloudflare.com",children:"Cloudflare Dashboard"})]}),"\n",(0,a.jsx)(n.li,{children:'Klik "Add a Site"'}),"\n",(0,a.jsxs)(n.li,{children:["Masukkan domain Anda (contoh: ",(0,a.jsx)(n.code,{children:"domainanda.com"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:["Pilih plan ",(0,a.jsx)(n.strong,{children:"Free"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Contoh nameserver Cloudflare:\nns1.cloudflare.com\nns2.cloudflare.com\n"})}),"\n",(0,a.jsx)(n.h3,{id:"troubleshooting-domain",children:"Troubleshooting Domain"}),"\n",(0,a.jsxs)(n.p,{children:['Jika error "Invalid nameserver", update nameserver di registrar domain.',(0,a.jsx)(n.br,{}),"\n","Proses propagasi DNS biasanya memakan waktu 5-30 menit.",(0,a.jsx)(n.br,{}),"\n","Verifikasi status di ",(0,a.jsx)(n.a,{href:"https://www.whatsmydns.net/",children:"WhatsMyDNS"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"langkah-2-setup-zero-trust-tunnel",children:"Langkah 2: Setup Zero Trust Tunnel"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Cloudflared self-host di Linux: Zero Trust Setup",src:l(7982).A+"",width:"1920",height:"1113"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Navigasi ke ",(0,a.jsx)(n.strong,{children:"Access"})," > ",(0,a.jsx)(n.strong,{children:"Zero Trust"})]}),"\n",(0,a.jsxs)(n.li,{children:["Pilih ",(0,a.jsx)(n.strong,{children:"Networks"})," > ",(0,a.jsx)(n.strong,{children:"Tunnels"})]}),"\n",(0,a.jsxs)(n.li,{children:["Klik ",(0,a.jsx)(n.strong,{children:"Create a tunnel"})]}),"\n",(0,a.jsxs)(n.li,{children:["Beri nama yang deskriptif (contoh: ",(0,a.jsx)(n.code,{children:"server-utama"}),")"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"langkah-3-instalasi-cloudflared",children:"Langkah 3: Instalasi Cloudflared"}),"\n",(0,a.jsx)(n.h3,{id:"untuk-ubuntudebian",children:"Untuk Ubuntu/Debian"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Download package terbaru\nwget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb\n\n# Install package\nsudo dpkg -i cloudflared-linux-amd64.deb\n\n# Verifikasi instalasi\ncloudflared --version\n"})}),"\n",(0,a.jsx)(n.h3,{id:"untuk-sistem-lain",children:"Untuk Sistem Lain"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"OS"}),(0,a.jsx)(n.th,{children:"Install Command"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Windows"}),(0,a.jsxs)(n.td,{children:["Unduh dari ",(0,a.jsx)(n.a,{href:"https://github.com/cloudflare/cloudflared/releases",children:"release page"})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Docker"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"docker run cloudflare/cloudflared:latest tunnel --no-autoupdate run <TOKEN>"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Raspberry Pi"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"wget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm"})})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"langkah-4-koneksikan-tunnel",children:"Langkah 4: Koneksikan Tunnel"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Salin perintah dari dashboard Zero Trust"}),"\n",(0,a.jsx)(n.li,{children:"Jalankan di terminal server Anda:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cloudflared tunnel --config /path/to/config.yml run <TUNNEL-NAME>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"verifikasi-koneksi",children:"Verifikasi Koneksi"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Cek status\nsudo systemctl status cloudflared\n\n# Lihat log real-time\njournalctl -u cloudflared -f --output cat\n"})}),"\n",(0,a.jsx)(n.h2,{id:"langkah-5-konfigurasi-public-hostname",children:"Langkah 5: Konfigurasi Public Hostname"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Cloudflared self-host di Linux: Public Hostname Setup",src:l(4885).A+"",width:"1920",height:"953"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Buka tunnel yang sudah dibuat"}),"\n",(0,a.jsxs)(n.li,{children:["Klik ",(0,a.jsx)(n.strong,{children:"Add a public hostname"})]}),"\n",(0,a.jsxs)(n.li,{children:["Isi form:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Subdomain"}),": Misal ",(0,a.jsx)(n.code,{children:"web"})," atau ",(0,a.jsx)(n.code,{children:"ssh"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Domain"}),": Pilih domain yang sudah terdaftar"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Service"}),": Protocol dan port lokal (contoh: ",(0,a.jsx)(n.code,{children:"http://localhost:8080"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"contoh-konfigurasi",children:"Contoh Konfigurasi"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Layanan"}),(0,a.jsx)(n.th,{children:"URL Target"}),(0,a.jsx)(n.th,{children:"Contoh Subdomain"}),(0,a.jsx)(n.th,{children:"Catatan"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Web Server"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"http://localhost:80"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"www"})}),(0,a.jsx)(n.td,{children:"Untuk akses website"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"SSH"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"ssh://localhost:22"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"ssh"})}),(0,a.jsx)(n.td,{children:"Akses remote server"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"VNC"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"http://localhost:5901"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"vnc"})}),(0,a.jsx)(n.td,{children:"Remote desktop"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Database"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"tcp://localhost:5432"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"db"})}),(0,a.jsx)(n.td,{children:"Akses PostgreSQL"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting-lengkap",children:"Troubleshooting Lengkap"}),"\n",(0,a.jsx)(n.h3,{id:"1-tunnel-tidak-terkoneksi",children:"1. Tunnel Tidak Terkoneksi"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Restart service\nsudo systemctl restart cloudflared\n\n# Cek konektivitas\ncurl https://cloudflare.com\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-domain-tidak-bisa-diakses",children:"2. Domain Tidak Bisa Diakses"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Test DNS\ndig subdomain.domainanda.com\n\n# Test koneksi tunnel\ncloudflared tunnel ping\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-error-certificate",children:"3. Error Certificate"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Reset certificate\ncloudflared tunnel reset\n\n# Hapus cache\nrm -rf ~/.cloudflared\n"})}),"\n",(0,a.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsx)(n.h3,{id:"keamanan",children:"Keamanan"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Gunakan Access Policies untuk membatasi akses"}),"\n",(0,a.jsx)(n.li,{children:"Aktifkan 2FA di akun Cloudflare"}),"\n",(0,a.jsx)(n.li,{children:"Batasi akses berdasarkan negara jika perlu"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"maintenance",children:"Maintenance"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Update rutin\nsudo cloudflared update\n\n# Backup konfigurasi\ncp /etc/cloudflared/config.yml ~/cloudflared-backup.yml\n"})}),"\n",(0,a.jsx)(n.h3,{id:"monitoring",children:"Monitoring"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Aktifkan notifikasi di dashboard Cloudflare"}),"\n",(0,a.jsx)(n.li,{children:"Monitor resource usage di server"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"penutup",children:"Penutup"}),"\n",(0,a.jsx)(n.p,{children:"Keuntungan Menggunakan Cloudflare Tunnel:"}),"\n",(0,a.jsxs)(n.p,{children:["\u2601\ufe0f Akses server dari mana saja",(0,a.jsx)(n.br,{}),"\n","\ud83d\udd12 Keamanan enterprise secara gratis",(0,a.jsx)(n.br,{}),"\n","\u26a1 Tidak perlu konfigurasi jaringan rumit"]}),"\n",(0,a.jsx)(n.h3,{id:"referensi-tambahan",children:"Referensi Tambahan"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developers.cloudflare.com/cloudflare-one/",children:"Dokumentasi Resmi Cloudflare"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://community.cloudflare.com/",children:"Forum Komunitas Cloudflare"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/cloudflare/cloudflared",children:"Repositori GitHub Cloudflared"})}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},7963:(e,n,l)=>{l.d(n,{A:()=>a});const a=l.p+"assets/images/cloudflared-1-1-5f4e2e52eff409c8493e4f556f4a2bbd.png"},7982:(e,n,l)=>{l.d(n,{A:()=>a});const a=l.p+"assets/images/cloudflared-3-2-dbb7e486a5f652773c1d739723ec084d.png"},4885:(e,n,l)=>{l.d(n,{A:()=>a});const a=l.p+"assets/images/cloudflared-5-3-c168f45e7f88197877bdd9e68f1b22c5.png"},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>d});var a=l(6540);const i={},s=a.createContext(i);function r(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);